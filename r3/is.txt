0FRRRRRSSSSSOOOO...........TTTTT
1FRRRRRSSSSSOOOOIIIIIIIIIIIIIIII

todo
	flags out
	ram control
	halt gating

F: update flags
O: operation
R: destination register
	though it's actually the source register in the case of ld
S: primary source register
I: secondary source immediate
T: secondary source register

0000: mov destination, secondary
0001: jmp destination, secondary
	primary encodes conditions instead of a register
	destination receives a pointer to just after the jmp
	instruction pointer receives secondary
0010: ld destination, primary + secondary
0011: exh destination, primary
	dest[31:16] = sec[15: 0]
	dest[15: 0] = pri[31:16]
0100: sub destination, primary, secondary
	primary is subtracted from secondary
0101: sbb destination, primary, secondary
	primary is subtracted from secondary
0110: add destination, primary, secondary
0111: adc destination, primary, secondary
1000: shl destination, primary, secondary
1001: shr destination, primary, secondary
1010: st destination, primary + secondary
1011: hlt
1100: and destination, primary, secondary
1101: or destination, primary, secondary
1110: xor destination, primary, secondary
1111: clr destination, primary, secondary

flag layout in corestate: Cf Of Zf Sf
flag layout when checking condition:
	.BNT..Z.
	...T....
	L.NT...S
	.BNTC.Z.
	.B.TC...
	LBNTC..S
	LBNT.OZ.
	L.NT.O..
	...T.O.S
	LBNTCOZ.
	LBNTCO..
	.B.TCO.S

BEf = Cf || Zf
NGf = Zf || Sf != Of
Lf = Sf != Of

non-memory cycle
	fetch, execute, fetchnext
read cycle
	fetch, execute, read, execute, fetchnext
write cycle
	fetch, execute, fetchnext, finishwrite, write

inputs:  pri  sec       ram      corestate fwinstr cinstr
outputs: dest dest_addr ram_addr corestate fwinstr cinstr
